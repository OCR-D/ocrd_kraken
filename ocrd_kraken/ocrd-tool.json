{
  "git_url": "https://github.com/OCR-D/ocrd_kraken",
  "version": "0.1.2",
  "tools": {
    "ocrd-kraken-binarize": {
      "executable": "ocrd-kraken-binarize",
      "input_file_grp": "OCR-D-IMG",
      "output_file_grp": "OCR-D-IMG-BIN",
      "categories": [
        "Image preprocessing"
      ],
      "steps": [
        "preprocessing/optimization/binarization"
      ],
      "description": "Binarize images with kraken",
      "parameters": {
        "level-of-operation": {
          "description": "level-of-operation",
          "type": "string",
          "default": "page",
          "enum": ["page", "block", "line"]
        }
      }
    },
    "ocrd-kraken-segment": {
      "executable": "ocrd-kraken-segment",
      "categories": [
        "Layout analysis"
      ],
      "steps": [
        "layout/segmentation/region"
      ],
      "description": "Block segmentation with kraken",
      "parameters": {
        "text_direction": {"type": "string", "description": "Sets principal text direction", "enum": ["horizontal-lr", "horizontal-rl", "vertical-lr", "vertical-rl"], "default": "horizontal-lr"},
        "maxcolseps": {"description": "maximum number of column separators", "type": "number", "format": "integer", "default": 2},
        "scale": {"description": "scale factor", "type": "number", "format": "float", "default": 0},
        "black_colseps": {"description": "Whether column separators are assumed to be vertical black lines or not", "type": "boolean", "default": false},
        "remove_hlines": {"description": "Remove horizontal colseps before segmentation", "type": "boolean", "default": true},
        "blla_model": {
          "description": "Model used for baseline detection. Use kraken-provided model if not give. Ignored if use_legacy.",
          "type": "string",
          "cacheable": true,
          "default": "blla.mlmodel"
        },
        "device": {"description": "GPU ID or 'cpu' to run on CPU only", "type": "string", "default": "cpu"},
        "use_legacy": {"description": "Use legacy box segmenter as opposed to neural net baseline segmenter", "type": "boolean", "default": false}
      }
    },
    "ocrd-kraken-ocr": {
      "executable": "ocrd-kraken-ocr",
      "categories": ["Text recognition and optimization"],
      "steps": [
        "recognition/text-recognition"
      ],
      "description": "OCR with kraken",
      "parameters": {
        "lines-json": {
          "type": "string",
          "format": "url",
          "required": "true",
          "description": "URL to line segmentation in JSON"
        }
      }
    }

  }
}
